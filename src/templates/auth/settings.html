{% extends "auth/base.html" %}

{% block title %}Account Settings{% endblock %}

{% block content %}
<div class="container my-5">
  <div class="row">
    <div class="col-md-3">
      <div class="nav flex-column nav-pills" role="tablist" aria-orientation="vertical">
        <a class="nav-link active" href="#change-data-tab" data-bs-toggle="tab" role="tab"
          aria-controls="change-data-tab" aria-selected="true">Change data</a>
        <a class="nav-link" href="#change-city-data-tab" data-bs-toggle="tab" role="tab"
          aria-controls="change-city-data-tab" aria-selected="false">Change city</a>
        <a class="nav-link" href="#change-password-tab" data-bs-toggle="tab" role="tab"
          aria-controls="change-password-tab" aria-selected="false">Change password</a>
        <a class="nav-link" href="#delete-account-tab" data-bs-toggle="tab" role="tab"
          aria-controls="delete-account-tab" aria-selected="false">Delete account</a>
      </div>
    </div>
    <div class="col-md-9">
      <div class="tab-content">
        <div class="tab-pane fade show active" id="change-data-tab" role="tabpanel" aria-labelledby="change-data-tab">
          <h3 class="mt-3">Change account data</h3>
          <hr>
          <form id="change-data-form">
            <div class="form-floating mb-3">
              <input type="text" class="form-control bg-dark text-white" id="username" placeholder="Username"
                value="{{ user_data.username }}">
              <label for="name">Username</label>
            </div>
            <div class="form-floating mb-3">
              <input type="email" class="form-control bg-dark text-white" id="email" placeholder="Email"
                value="{{ user_data.email }}">
              <label for="email">Email</label>
            </div>
            <div class="d-grid">
              <button type="submit" class="btn btn-primary btn-lg">Save changes</button>
            </div>
          </form>
          <div id="error-message" class="alert alert-danger bg-danger text-white" role="alert" style="display: none;">
          </div>
          <div id="success-message" class="alert alert-success bg-success text-white" role="alert"
            style="display: none;"></div>
        </div>
        <div class="tab-pane fade" id="change-city-data-tab" role="tabpanel" aria-labelledby="change-city-data-tab">
          <h3 class="mt-3">Change city</h3>
          <hr>
          <form id="change-city-data-form">
            <div class="form-floating mb-3">
              <input type="city" class="form-control bg-dark text-white" id="city" placeholder="City"
                value="{{ user_data.city }}">
              <label for="city">City</label>
            </div>
            <div class="form-floating mb-3">
              <input type="country" class="form-control bg-dark text-muted" id="country" placeholder="Country"
                value="{{ user_data.country }}" disabled>
              <label for="country">Country</label>
            </div>
            <div class="form-floating mb-3">
              <input type="region" class="form-control bg-dark text-muted" id="region" placeholder="Region"
                value="{{ user_data.region }}" disabled>
              <label for="region">Region</label>
            </div>
            <div class="form-floating mb-3">
              <input type="latitude" class="form-control bg-dark text-muted" id="latitude" placeholder="Latitude"
                value="{{ user_data.latitude }}" disabled>
              <label for="latitude">Latitude</label>
            </div>
            <div class="form-floating mb-3">
              <input type="longitude" class="form-control bg-dark text-muted" id="longitude" placeholder="Longitude"
                value="{{ user_data.longitude }}" disabled>
              <label for="longitude">Longitude</label>
            </div>
            <div class="d-grid">
              <button type="submit" class="btn btn-primary btn-lg">Go to city selection</button>
            </div>
          </form>
          <div id="error-message-city" class="alert alert-danger bg-danger text-white" role="alert"
            style="display: none;"></div>
          <div id="success-message-city" class="alert alert-success bg-success text-white" role="alert"
            style="display: none;"></div>
        </div>
        <div class="tab-pane fade" id="change-password-tab" role="tabpanel" aria-labelledby="change-password-tab">
          <h3 class="mt-3">Change password</h3>
          <hr>
          <form id="change-password-form">
            <div class="form-floating mb-3">
              <input type="password" class="form-control bg-dark text-white" id="current-password"
                placeholder="Current password">
              <label for="current-password">Current password</label>
            </div>
            <div class="form-floating mb-3">
              <input type="password" class="form-control bg-dark text-white" id="repeat-password"
                placeholder="Repeat password">
              <label for="repeat-password">Repeat password</label>
            </div>
            <div class="form-floating mb-3">
              <input type="password" class="form-control bg-dark text-white" id="new-password"
                placeholder="New password">
              <label for="new-password">New password</label>
            </div>
            <div class="d-grid">
              <button type="submit" class="btn btn-primary btn-lg">Save changes</button>
            </div>
          </form>
          <div id="error-message-password" class="alert alert-danger bg-danger text-white" role="alert"
            style="display: none;"></div>
          <div id="success-message-password" class="alert alert-success bg-success text-white" role="alert"
            style="display: none;"></div>
        </div>
        <div class="tab-pane fade" id="delete-account-tab" role="tabpanel" aria-labelledby="delete-account-tab">
          <h3 class="mt-3">Delete account</h3>
          <hr>
          <p>Are you sure you want to delete your account? This action is irreversible.</p>
          <div class="d-grid gap-2 d-md-flex justify-content-md-end">
            <button id="delete-btn" class="btn btn-danger me-md-2">Delete account</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="{{ url_for('static', path='js/settings.js') }}"></script>
{% endblock %}
